// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Vector.Infrastructure.Persistence;

#nullable disable

namespace Vector.Infrastructure.Persistence.Migrations
{
    [DbContext(typeof(VectorDbContext))]
    [Migration("20260216163423_InitialCreate")]
    partial class InitialCreate
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "9.0.0")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("Vector.Domain.DocumentProcessing.Aggregates.ProcessingJob", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("ErrorMessage")
                        .HasMaxLength(4000)
                        .HasColumnType("nvarchar(4000)");

                    b.Property<Guid>("InboundEmailId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("LastModifiedBy")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<DateTime>("PeriodEnd")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodEnd");

                    b.Property<DateTime>("PeriodStart")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodStart");

                    b.Property<DateTime>("StartedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("InboundEmailId");

                    b.HasIndex("StartedAt");

                    b.HasIndex("Status");

                    b.HasIndex("TenantId");

                    b.ToTable("ProcessingJobs", (string)null);

                    b.ToTable(tb => tb.IsTemporal(ttb =>
                            {
                                ttb.UseHistoryTable("ProcessingJobsHistory");
                                ttb
                                    .HasPeriodStart("PeriodStart")
                                    .HasColumnName("PeriodStart");
                                ttb
                                    .HasPeriodEnd("PeriodEnd")
                                    .HasColumnName("PeriodEnd");
                            }));
                });

            modelBuilder.Entity("Vector.Domain.EmailIntake.Aggregates.InboundEmail", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("BodyPreview")
                        .IsRequired()
                        .HasMaxLength(4000)
                        .HasColumnType("nvarchar(4000)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("ExternalMessageId")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("LastModifiedBy")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("MailboxId")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime>("PeriodEnd")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodEnd");

                    b.Property<DateTime>("PeriodStart")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodStart");

                    b.Property<string>("ProcessingError")
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<DateTime>("ReceivedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Subject")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("MailboxId");

                    b.HasIndex("ReceivedAt");

                    b.HasIndex("Status");

                    b.HasIndex("TenantId");

                    b.HasIndex("TenantId", "ExternalMessageId")
                        .IsUnique();

                    b.ToTable("InboundEmails", (string)null);

                    b.ToTable(tb => tb.IsTemporal(ttb =>
                            {
                                ttb.UseHistoryTable("InboundEmailsHistory");
                                ttb
                                    .HasPeriodStart("PeriodStart")
                                    .HasColumnName("PeriodStart");
                                ttb
                                    .HasPeriodEnd("PeriodEnd")
                                    .HasColumnName("PeriodEnd");
                            }));
                });

            modelBuilder.Entity("Vector.Domain.Routing.Aggregates.RoutingDecision", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("AcceptedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("AppetiteScore")
                        .HasColumnType("int");

                    b.Property<DateTime?>("AssignedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("AssignedTeamId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssignedTeamName")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<Guid?>("AssignedUnderwriterId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssignedUnderwriterName")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<DateTime>("DecidedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("DeclineReason")
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<DateTime?>("DeclinedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("MatchedPairingId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("MatchedRuleId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("MatchedRuleName")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime>("PeriodEnd")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodEnd");

                    b.Property<DateTime>("PeriodStart")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodStart");

                    b.Property<string>("RoutingReason")
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Strategy")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("SubmissionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("SubmissionNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int?>("WinnabilityScore")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("AssignedUnderwriterId");

                    b.HasIndex("Status");

                    b.HasIndex("SubmissionId")
                        .IsUnique();

                    b.ToTable("RoutingDecisions", (string)null);

                    b.ToTable(tb => tb.IsTemporal(ttb =>
                            {
                                ttb.UseHistoryTable("RoutingDecisionsHistory");
                                ttb
                                    .HasPeriodStart("PeriodStart")
                                    .HasColumnName("PeriodStart");
                                ttb
                                    .HasPeriodEnd("PeriodEnd")
                                    .HasColumnName("PeriodEnd");
                            }));
                });

            modelBuilder.Entity("Vector.Domain.Routing.Aggregates.RoutingRule", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime>("PeriodEnd")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodEnd");

                    b.Property<DateTime>("PeriodStart")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodStart");

                    b.Property<int>("Priority")
                        .HasColumnType("int");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Strategy")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid?>("TargetTeamId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("TargetTeamName")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<Guid?>("TargetUnderwriterId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("TargetUnderwriterName")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.HasKey("Id");

                    b.HasIndex("Priority");

                    b.HasIndex("Status");

                    b.HasIndex("Strategy");

                    b.ToTable("RoutingRules", (string)null);

                    b.ToTable(tb => tb.IsTemporal(ttb =>
                            {
                                ttb.UseHistoryTable("RoutingRulesHistory");
                                ttb
                                    .HasPeriodStart("PeriodStart")
                                    .HasColumnName("PeriodStart");
                                ttb
                                    .HasPeriodEnd("PeriodEnd")
                                    .HasColumnName("PeriodEnd");
                            }));
                });

            modelBuilder.Entity("Vector.Domain.Routing.Entities.ProducerUnderwriterPairing", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("CoverageTypesJson")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)")
                        .HasColumnName("CoverageTypes");

                    b.Property<DateTime>("EffectiveFrom")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("EffectiveUntil")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsActive")
                        .HasColumnType("bit");

                    b.Property<int>("Priority")
                        .HasColumnType("int");

                    b.Property<Guid>("ProducerId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ProducerName")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<Guid>("UnderwriterId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("UnderwriterName")
                        .IsRequired()
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.HasKey("Id");

                    b.HasIndex("ProducerId");

                    b.HasIndex("UnderwriterId");

                    b.HasIndex("ProducerId", "IsActive");

                    b.ToTable("ProducerUnderwriterPairings", (string)null);
                });

            modelBuilder.Entity("Vector.Domain.Submission.Aggregates.Submission", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int?>("AppetiteScore")
                        .HasColumnType("int");

                    b.Property<DateTime?>("AssignedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("AssignedUnderwriterId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssignedUnderwriterName")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<DateTime?>("ClearanceCheckedAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("ClearanceOverriddenAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("ClearanceOverriddenByUserId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ClearanceOverrideReason")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("ClearanceStatus")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<int?>("DataQualityScore")
                        .HasColumnType("int");

                    b.Property<string>("DeclineReason")
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<DateTime?>("EffectiveDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("ExpirationDate")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("InboundEmailId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("LastModifiedBy")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<DateTime>("PeriodEnd")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodEnd");

                    b.Property<DateTime>("PeriodStart")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodStart");

                    b.Property<Guid?>("ProcessingJobId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ProducerContactEmail")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<Guid?>("ProducerId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ProducerName")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime>("ReceivedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("SubmissionNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int?>("WinnabilityScore")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("AssignedUnderwriterId");

                    b.HasIndex("ClearanceStatus");

                    b.HasIndex("ProcessingJobId");

                    b.HasIndex("ProducerId");

                    b.HasIndex("ReceivedAt");

                    b.HasIndex("Status");

                    b.HasIndex("TenantId");

                    b.HasIndex("TenantId", "SubmissionNumber")
                        .IsUnique();

                    b.ToTable("Submissions", (string)null);

                    b.ToTable(tb => tb.IsTemporal(ttb =>
                            {
                                ttb.UseHistoryTable("SubmissionsHistory");
                                ttb
                                    .HasPeriodStart("PeriodStart")
                                    .HasColumnName("PeriodStart");
                                ttb
                                    .HasPeriodEnd("PeriodEnd")
                                    .HasColumnName("PeriodEnd");
                            }));
                });

            modelBuilder.Entity("Vector.Domain.Submission.Entities.DataCorrectionRequest", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("CurrentValue")
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<string>("FieldName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("Justification")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<string>("ProposedValue")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<DateTime>("RequestedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("RequestedBy")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("ReviewNotes")
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<DateTime?>("ReviewedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("ReviewedBy")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("SubmissionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("Id");

                    b.HasIndex("Status");

                    b.HasIndex("SubmissionId");

                    b.HasIndex("SubmissionId", "Status");

                    b.ToTable("DataCorrectionRequests", (string)null);
                });

            modelBuilder.Entity("Vector.Domain.UnderwritingGuidelines.Aggregates.UnderwritingGuideline", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ApplicableCoverageTypes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("ApplicableNAICSCodes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("ApplicableStates")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("Description")
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<DateTime?>("EffectiveDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("ExpirationDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("LastModifiedBy")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime>("PeriodEnd")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodEnd");

                    b.Property<DateTime>("PeriodStart")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime2")
                        .HasColumnName("PeriodStart");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("Version")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("Status");

                    b.HasIndex("TenantId");

                    b.HasIndex("TenantId", "Status");

                    b.ToTable("UnderwritingGuidelines", (string)null);

                    b.ToTable(tb => tb.IsTemporal(ttb =>
                            {
                                ttb.UseHistoryTable("UnderwritingGuidelinesHistory");
                                ttb
                                    .HasPeriodStart("PeriodStart")
                                    .HasColumnName("PeriodStart");
                                ttb
                                    .HasPeriodEnd("PeriodEnd")
                                    .HasColumnName("PeriodEnd");
                            }));
                });

            modelBuilder.Entity("Vector.Domain.UnderwritingGuidelines.Entities.UnderwritingRule", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Action")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Description")
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<Guid?>("GuidelineId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsActive")
                        .HasColumnType("bit");

                    b.Property<string>("Message")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<decimal?>("PricingModifier")
                        .HasPrecision(5, 4)
                        .HasColumnType("decimal(5,4)");

                    b.Property<int>("Priority")
                        .HasColumnType("int");

                    b.Property<int?>("ScoreAdjustment")
                        .HasColumnType("int");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("Id");

                    b.HasIndex("GuidelineId");

                    b.ToTable("UnderwritingRules", (string)null);
                });

            modelBuilder.Entity("Vector.Domain.DocumentProcessing.Aggregates.ProcessingJob", b =>
                {
                    b.OwnsMany("Vector.Domain.DocumentProcessing.Aggregates.ProcessedDocument", "Documents", b1 =>
                        {
                            b1.Property<Guid>("Id")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<string>("BlobStorageUrl")
                                .IsRequired()
                                .HasMaxLength(2000)
                                .HasColumnType("nvarchar(2000)");

                            b1.Property<string>("DocumentType")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("nvarchar(50)");

                            b1.Property<string>("FailureReason")
                                .HasMaxLength(2000)
                                .HasColumnType("nvarchar(2000)");

                            b1.Property<string>("OriginalFileName")
                                .IsRequired()
                                .HasMaxLength(255)
                                .HasColumnType("nvarchar(255)");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.Property<DateTime?>("ProcessedAt")
                                .HasColumnType("datetime2");

                            b1.Property<Guid>("ProcessingJobId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<Guid>("SourceAttachmentId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<string>("Status")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("nvarchar(50)");

                            b1.Property<string>("_validationErrors")
                                .IsRequired()
                                .HasColumnType("nvarchar(max)")
                                .HasColumnName("ValidationErrors");

                            b1.HasKey("Id");

                            b1.HasIndex("ProcessingJobId");

                            b1.ToTable("ProcessedDocuments", (string)null);

                            b1.ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("ProcessedDocumentsHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("ProcessingJobId");

                            b1.OwnsOne("Vector.Domain.DocumentProcessing.ValueObjects.ExtractionConfidence", "ClassificationConfidence", b2 =>
                                {
                                    b2.Property<Guid>("ProcessedDocumentId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.Property<decimal>("Score")
                                        .HasPrecision(5, 4)
                                        .HasColumnType("decimal(5,4)")
                                        .HasColumnName("ClassificationConfidence");

                                    b2.HasKey("ProcessedDocumentId");

                                    b2.ToTable("ProcessedDocuments");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("ProcessedDocumentsHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("ProcessedDocumentId");
                                });

                            b1.OwnsMany("Vector.Domain.DocumentProcessing.ValueObjects.ExtractedField", "ExtractedFields", b2 =>
                                {
                                    b2.Property<Guid>("ProcessedDocumentId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<int>("Id")
                                        .ValueGeneratedOnAdd()
                                        .HasColumnType("int");

                                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b2.Property<int>("Id"));

                                    b2.Property<string>("BoundingBox")
                                        .HasMaxLength(500)
                                        .HasColumnType("nvarchar(500)");

                                    b2.Property<string>("FieldName")
                                        .IsRequired()
                                        .HasMaxLength(200)
                                        .HasColumnType("nvarchar(200)");

                                    b2.Property<int?>("PageNumber")
                                        .HasColumnType("int");

                                    b2.Property<string>("Value")
                                        .HasMaxLength(4000)
                                        .HasColumnType("nvarchar(4000)");

                                    b2.HasKey("ProcessedDocumentId", "Id");

                                    b2.ToTable("ExtractedFields", (string)null);

                                    b2.WithOwner()
                                        .HasForeignKey("ProcessedDocumentId");

                                    b2.OwnsOne("Vector.Domain.DocumentProcessing.ValueObjects.ExtractionConfidence", "Confidence", b3 =>
                                        {
                                            b3.Property<Guid>("ExtractedFieldProcessedDocumentId")
                                                .HasColumnType("uniqueidentifier");

                                            b3.Property<int>("ExtractedFieldId")
                                                .HasColumnType("int");

                                            b3.Property<decimal>("Score")
                                                .HasPrecision(5, 4)
                                                .HasColumnType("decimal(5,4)")
                                                .HasColumnName("Confidence");

                                            b3.HasKey("ExtractedFieldProcessedDocumentId", "ExtractedFieldId");

                                            b3.ToTable("ExtractedFields");

                                            b3.WithOwner()
                                                .HasForeignKey("ExtractedFieldProcessedDocumentId", "ExtractedFieldId");
                                        });

                                    b2.Navigation("Confidence")
                                        .IsRequired();
                                });

                            b1.Navigation("ClassificationConfidence")
                                .IsRequired();

                            b1.Navigation("ExtractedFields");
                        });

                    b.Navigation("Documents");
                });

            modelBuilder.Entity("Vector.Domain.EmailIntake.Aggregates.InboundEmail", b =>
                {
                    b.OwnsMany("Vector.Domain.EmailIntake.Aggregates.EmailAttachment", "Attachments", b1 =>
                        {
                            b1.Property<Guid>("Id")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<string>("BlobStorageUrl")
                                .IsRequired()
                                .HasMaxLength(2000)
                                .HasColumnType("nvarchar(2000)");

                            b1.Property<DateTime>("ExtractedAt")
                                .HasColumnType("datetime2");

                            b1.Property<string>("FailureReason")
                                .HasMaxLength(2000)
                                .HasColumnType("nvarchar(2000)");

                            b1.Property<Guid>("InboundEmailId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.Property<string>("Status")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("nvarchar(50)");

                            b1.HasKey("Id");

                            b1.HasIndex("InboundEmailId");

                            b1.ToTable("EmailAttachments", (string)null);

                            b1.ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("EmailAttachmentsHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("InboundEmailId");

                            b1.OwnsOne("Vector.Domain.EmailIntake.ValueObjects.AttachmentMetadata", "Metadata", b2 =>
                                {
                                    b2.Property<Guid>("EmailAttachmentId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<string>("ContentType")
                                        .IsRequired()
                                        .HasMaxLength(200)
                                        .HasColumnType("nvarchar(200)")
                                        .HasColumnName("ContentType");

                                    b2.Property<string>("FileName")
                                        .IsRequired()
                                        .HasMaxLength(255)
                                        .HasColumnType("nvarchar(255)")
                                        .HasColumnName("FileName");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.Property<long>("SizeInBytes")
                                        .HasColumnType("bigint")
                                        .HasColumnName("SizeInBytes");

                                    b2.HasKey("EmailAttachmentId");

                                    b2.ToTable("EmailAttachments");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("EmailAttachmentsHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("EmailAttachmentId");

                                    b2.OwnsOne("Vector.Domain.EmailIntake.ValueObjects.ContentHash", "ContentHash", b3 =>
                                        {
                                            b3.Property<Guid>("AttachmentMetadataEmailAttachmentId")
                                                .HasColumnType("uniqueidentifier");

                                            b3.Property<string>("Algorithm")
                                                .IsRequired()
                                                .HasMaxLength(20)
                                                .HasColumnType("nvarchar(20)")
                                                .HasColumnName("ContentHashAlgorithm");

                                            b3.Property<DateTime>("PeriodEnd")
                                                .ValueGeneratedOnAddOrUpdate()
                                                .HasColumnType("datetime2")
                                                .HasColumnName("PeriodEnd");

                                            b3.Property<DateTime>("PeriodStart")
                                                .ValueGeneratedOnAddOrUpdate()
                                                .HasColumnType("datetime2")
                                                .HasColumnName("PeriodStart");

                                            b3.Property<string>("Value")
                                                .IsRequired()
                                                .HasMaxLength(128)
                                                .HasColumnType("nvarchar(128)")
                                                .HasColumnName("ContentHash");

                                            b3.HasKey("AttachmentMetadataEmailAttachmentId");

                                            b3.ToTable("EmailAttachments");

                                            b3.ToTable(tb => tb.IsTemporal(ttb =>
                                                    {
                                                        ttb.UseHistoryTable("EmailAttachmentsHistory");
                                                        ttb
                                                            .HasPeriodStart("PeriodStart")
                                                            .HasColumnName("PeriodStart");
                                                        ttb
                                                            .HasPeriodEnd("PeriodEnd")
                                                            .HasColumnName("PeriodEnd");
                                                    }));

                                            b3.WithOwner()
                                                .HasForeignKey("AttachmentMetadataEmailAttachmentId");
                                        });

                                    b2.Navigation("ContentHash")
                                        .IsRequired();
                                });

                            b1.Navigation("Metadata")
                                .IsRequired();
                        });

                    b.OwnsOne("Vector.Domain.EmailIntake.ValueObjects.ContentHash", "ContentHash", b1 =>
                        {
                            b1.Property<Guid>("InboundEmailId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<string>("Algorithm")
                                .IsRequired()
                                .HasMaxLength(20)
                                .HasColumnType("nvarchar(20)")
                                .HasColumnName("ContentHashAlgorithm");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.Property<string>("Value")
                                .IsRequired()
                                .HasMaxLength(128)
                                .HasColumnType("nvarchar(128)")
                                .HasColumnName("ContentHash");

                            b1.HasKey("InboundEmailId");

                            b1.ToTable("InboundEmails");

                            b1.ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("InboundEmailsHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("InboundEmailId");
                        });

                    b.OwnsOne("Vector.Domain.EmailIntake.ValueObjects.EmailAddress", "FromAddress", b1 =>
                        {
                            b1.Property<Guid>("InboundEmailId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.Property<string>("Value")
                                .IsRequired()
                                .HasMaxLength(256)
                                .HasColumnType("nvarchar(256)")
                                .HasColumnName("FromAddress");

                            b1.HasKey("InboundEmailId");

                            b1.ToTable("InboundEmails");

                            b1.ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("InboundEmailsHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("InboundEmailId");
                        });

                    b.Navigation("Attachments");

                    b.Navigation("ContentHash")
                        .IsRequired();

                    b.Navigation("FromAddress")
                        .IsRequired();
                });

            modelBuilder.Entity("Vector.Domain.Routing.Aggregates.RoutingDecision", b =>
                {
                    b.OwnsMany("Vector.Domain.Routing.Aggregates.RoutingHistoryEntry", "History", b1 =>
                        {
                            b1.Property<Guid>("RoutingDecisionId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<int>("__synthesizedOrdinal")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("int");

                            b1.Property<string>("Action")
                                .IsRequired()
                                .HasColumnType("nvarchar(max)");

                            b1.Property<string>("Details")
                                .IsRequired()
                                .HasColumnType("nvarchar(max)");

                            b1.Property<string>("Notes")
                                .HasColumnType("nvarchar(max)");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.Property<DateTime>("Timestamp")
                                .HasColumnType("datetime2");

                            b1.HasKey("RoutingDecisionId", "__synthesizedOrdinal");

                            b1.ToTable("RoutingDecisions");

                            b1
                                .ToJson("History")
                                .ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("RoutingDecisionsHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("RoutingDecisionId");
                        });

                    b.Navigation("History");
                });

            modelBuilder.Entity("Vector.Domain.Routing.Aggregates.RoutingRule", b =>
                {
                    b.OwnsMany("Vector.Domain.Routing.ValueObjects.RoutingCondition", "Conditions", b1 =>
                        {
                            b1.Property<Guid>("RoutingRuleId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<int>("__synthesizedOrdinal")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("int");

                            b1.Property<string>("Field")
                                .IsRequired()
                                .HasColumnType("nvarchar(max)");

                            b1.Property<string>("Operator")
                                .IsRequired()
                                .HasColumnType("nvarchar(max)");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.Property<string>("SecondaryValue")
                                .HasColumnType("nvarchar(max)");

                            b1.Property<string>("Value")
                                .IsRequired()
                                .HasColumnType("nvarchar(max)");

                            b1.HasKey("RoutingRuleId", "__synthesizedOrdinal");

                            b1.ToTable("RoutingRules");

                            b1
                                .ToJson("Conditions")
                                .ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("RoutingRulesHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("RoutingRuleId");
                        });

                    b.Navigation("Conditions");
                });

            modelBuilder.Entity("Vector.Domain.Submission.Aggregates.Submission", b =>
                {
                    b.OwnsOne("Vector.Domain.Submission.ValueObjects.Money", "QuotedPremium", b1 =>
                        {
                            b1.Property<Guid>("SubmissionId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("decimal(18,2)")
                                .HasColumnName("QuotedPremiumAmount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("nvarchar(3)")
                                .HasColumnName("QuotedPremiumCurrency");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.HasKey("SubmissionId");

                            b1.ToTable("Submissions");

                            b1.ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("SubmissionsHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("SubmissionId");
                        });

                    b.OwnsMany("Vector.Domain.Submission.Entities.ClearanceMatch", "ClearanceMatches", b1 =>
                        {
                            b1.Property<Guid>("Id")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<double>("ConfidenceScore")
                                .HasPrecision(5, 4)
                                .HasColumnType("float(5)");

                            b1.Property<DateTime>("DetectedAt")
                                .HasColumnType("datetime2");

                            b1.Property<string>("MatchDetails")
                                .IsRequired()
                                .HasMaxLength(2000)
                                .HasColumnType("nvarchar(2000)");

                            b1.Property<string>("MatchType")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("nvarchar(50)");

                            b1.Property<Guid>("MatchedSubmissionId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<string>("MatchedSubmissionNumber")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("nvarchar(50)");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.Property<Guid>("SubmissionId")
                                .HasColumnType("uniqueidentifier");

                            b1.HasKey("Id");

                            b1.HasIndex("MatchedSubmissionId");

                            b1.HasIndex("SubmissionId");

                            b1.ToTable("ClearanceMatches", (string)null);

                            b1.ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("ClearanceMatchesHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("SubmissionId");
                        });

                    b.OwnsMany("Vector.Domain.Submission.Entities.Coverage", "Coverages", b1 =>
                        {
                            b1.Property<Guid>("Id")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<string>("AdditionalInfo")
                                .HasMaxLength(4000)
                                .HasColumnType("nvarchar(4000)");

                            b1.Property<string>("CurrentCarrier")
                                .HasMaxLength(200)
                                .HasColumnType("nvarchar(200)");

                            b1.Property<DateTime?>("EffectiveDate")
                                .HasColumnType("datetime2");

                            b1.Property<DateTime?>("ExpirationDate")
                                .HasColumnType("datetime2");

                            b1.Property<bool>("IsCurrentlyInsured")
                                .HasColumnType("bit");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.Property<Guid>("SubmissionId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<string>("Type")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("nvarchar(50)");

                            b1.HasKey("Id");

                            b1.HasIndex("SubmissionId");

                            b1.ToTable("SubmissionCoverages", (string)null);

                            b1.ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("SubmissionCoveragesHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("SubmissionId");

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Money", "CurrentPremium", b2 =>
                                {
                                    b2.Property<Guid>("CoverageId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 2)
                                        .HasColumnType("decimal(18,2)")
                                        .HasColumnName("CurrentPremiumAmount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("nvarchar(3)")
                                        .HasColumnName("CurrentPremiumCurrency");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.HasKey("CoverageId");

                                    b2.ToTable("SubmissionCoverages");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionCoveragesHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("CoverageId");
                                });

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Money", "RequestedDeductible", b2 =>
                                {
                                    b2.Property<Guid>("CoverageId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 2)
                                        .HasColumnType("decimal(18,2)")
                                        .HasColumnName("RequestedDeductibleAmount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("nvarchar(3)")
                                        .HasColumnName("RequestedDeductibleCurrency");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.HasKey("CoverageId");

                                    b2.ToTable("SubmissionCoverages");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionCoveragesHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("CoverageId");
                                });

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Money", "RequestedLimit", b2 =>
                                {
                                    b2.Property<Guid>("CoverageId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 2)
                                        .HasColumnType("decimal(18,2)")
                                        .HasColumnName("RequestedLimitAmount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("nvarchar(3)")
                                        .HasColumnName("RequestedLimitCurrency");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.HasKey("CoverageId");

                                    b2.ToTable("SubmissionCoverages");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionCoveragesHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("CoverageId");
                                });

                            b1.Navigation("CurrentPremium");

                            b1.Navigation("RequestedDeductible");

                            b1.Navigation("RequestedLimit");
                        });

                    b.OwnsMany("Vector.Domain.Submission.Entities.ExposureLocation", "Locations", b1 =>
                        {
                            b1.Property<Guid>("Id")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<string>("BuildingDescription")
                                .HasMaxLength(2000)
                                .HasColumnType("nvarchar(2000)");

                            b1.Property<string>("ConstructionType")
                                .HasMaxLength(200)
                                .HasColumnType("nvarchar(200)");

                            b1.Property<bool>("HasFireAlarm")
                                .HasColumnType("bit");

                            b1.Property<bool>("HasSecuritySystem")
                                .HasColumnType("bit");

                            b1.Property<bool>("HasSprinklers")
                                .HasColumnType("bit");

                            b1.Property<int>("LocationNumber")
                                .HasColumnType("int");

                            b1.Property<int?>("NumberOfStories")
                                .HasColumnType("int");

                            b1.Property<string>("OccupancyType")
                                .HasMaxLength(200)
                                .HasColumnType("nvarchar(200)");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.Property<string>("ProtectionClass")
                                .HasMaxLength(10)
                                .HasColumnType("nvarchar(10)");

                            b1.Property<int?>("SquareFootage")
                                .HasColumnType("int");

                            b1.Property<Guid>("SubmissionId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<int?>("YearBuilt")
                                .HasColumnType("int");

                            b1.HasKey("Id");

                            b1.HasIndex("SubmissionId");

                            b1.ToTable("SubmissionLocations", (string)null);

                            b1.ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("SubmissionLocationsHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("SubmissionId");

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Address", "Address", b2 =>
                                {
                                    b2.Property<Guid>("ExposureLocationId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<string>("City")
                                        .IsRequired()
                                        .HasMaxLength(200)
                                        .HasColumnType("nvarchar(200)")
                                        .HasColumnName("City");

                                    b2.Property<string>("Country")
                                        .IsRequired()
                                        .HasMaxLength(100)
                                        .HasColumnType("nvarchar(100)")
                                        .HasColumnName("Country");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.Property<string>("PostalCode")
                                        .IsRequired()
                                        .HasMaxLength(20)
                                        .HasColumnType("nvarchar(20)")
                                        .HasColumnName("PostalCode");

                                    b2.Property<string>("State")
                                        .IsRequired()
                                        .HasMaxLength(50)
                                        .HasColumnType("nvarchar(50)")
                                        .HasColumnName("State");

                                    b2.Property<string>("Street1")
                                        .IsRequired()
                                        .HasMaxLength(500)
                                        .HasColumnType("nvarchar(500)")
                                        .HasColumnName("Street1");

                                    b2.Property<string>("Street2")
                                        .HasMaxLength(500)
                                        .HasColumnType("nvarchar(500)")
                                        .HasColumnName("Street2");

                                    b2.HasKey("ExposureLocationId");

                                    b2.ToTable("SubmissionLocations");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionLocationsHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("ExposureLocationId");
                                });

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Money", "BuildingValue", b2 =>
                                {
                                    b2.Property<Guid>("ExposureLocationId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 2)
                                        .HasColumnType("decimal(18,2)")
                                        .HasColumnName("BuildingValueAmount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("nvarchar(3)")
                                        .HasColumnName("BuildingValueCurrency");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.HasKey("ExposureLocationId");

                                    b2.ToTable("SubmissionLocations");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionLocationsHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("ExposureLocationId");
                                });

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Money", "BusinessIncomeValue", b2 =>
                                {
                                    b2.Property<Guid>("ExposureLocationId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 2)
                                        .HasColumnType("decimal(18,2)")
                                        .HasColumnName("BusinessIncomeValueAmount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("nvarchar(3)")
                                        .HasColumnName("BusinessIncomeValueCurrency");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.HasKey("ExposureLocationId");

                                    b2.ToTable("SubmissionLocations");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionLocationsHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("ExposureLocationId");
                                });

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Money", "ContentsValue", b2 =>
                                {
                                    b2.Property<Guid>("ExposureLocationId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 2)
                                        .HasColumnType("decimal(18,2)")
                                        .HasColumnName("ContentsValueAmount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("nvarchar(3)")
                                        .HasColumnName("ContentsValueCurrency");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.HasKey("ExposureLocationId");

                                    b2.ToTable("SubmissionLocations");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionLocationsHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("ExposureLocationId");
                                });

                            b1.Navigation("Address")
                                .IsRequired();

                            b1.Navigation("BuildingValue");

                            b1.Navigation("BusinessIncomeValue");

                            b1.Navigation("ContentsValue");
                        });

                    b.OwnsOne("Vector.Domain.Submission.Entities.InsuredParty", "Insured", b1 =>
                        {
                            b1.Property<Guid>("SubmissionId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<string>("DbaName")
                                .HasMaxLength(500)
                                .HasColumnType("nvarchar(500)")
                                .HasColumnName("InsuredDbaName");

                            b1.Property<int?>("EmployeeCount")
                                .HasColumnType("int")
                                .HasColumnName("InsuredEmployeeCount");

                            b1.Property<DateTime?>("EntityFormationDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("InsuredEntityFormationDate");

                            b1.Property<string>("EntityType")
                                .HasMaxLength(100)
                                .HasColumnType("nvarchar(100)")
                                .HasColumnName("InsuredEntityType");

                            b1.Property<string>("FeinNumber")
                                .HasMaxLength(20)
                                .HasColumnType("nvarchar(20)")
                                .HasColumnName("InsuredFein");

                            b1.Property<Guid>("Id")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("InsuredId");

                            b1.Property<string>("Name")
                                .IsRequired()
                                .HasMaxLength(500)
                                .HasColumnType("nvarchar(500)")
                                .HasColumnName("InsuredName");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.Property<string>("Website")
                                .HasMaxLength(500)
                                .HasColumnType("nvarchar(500)")
                                .HasColumnName("InsuredWebsite");

                            b1.Property<int?>("YearsInBusiness")
                                .HasColumnType("int")
                                .HasColumnName("InsuredYearsInBusiness");

                            b1.HasKey("SubmissionId");

                            b1.ToTable("Submissions");

                            b1.ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("SubmissionsHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("SubmissionId");

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Money", "AnnualRevenue", b2 =>
                                {
                                    b2.Property<Guid>("InsuredPartySubmissionId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 2)
                                        .HasColumnType("decimal(18,2)")
                                        .HasColumnName("InsuredAnnualRevenueAmount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("nvarchar(3)")
                                        .HasColumnName("InsuredAnnualRevenueCurrency");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.HasKey("InsuredPartySubmissionId");

                                    b2.ToTable("Submissions");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionsHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("InsuredPartySubmissionId");
                                });

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Address", "MailingAddress", b2 =>
                                {
                                    b2.Property<Guid>("InsuredPartySubmissionId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<string>("City")
                                        .IsRequired()
                                        .HasMaxLength(200)
                                        .HasColumnType("nvarchar(200)")
                                        .HasColumnName("InsuredCity");

                                    b2.Property<string>("Country")
                                        .IsRequired()
                                        .HasMaxLength(100)
                                        .HasColumnType("nvarchar(100)")
                                        .HasColumnName("InsuredCountry");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.Property<string>("PostalCode")
                                        .IsRequired()
                                        .HasMaxLength(20)
                                        .HasColumnType("nvarchar(20)")
                                        .HasColumnName("InsuredPostalCode");

                                    b2.Property<string>("State")
                                        .IsRequired()
                                        .HasMaxLength(50)
                                        .HasColumnType("nvarchar(50)")
                                        .HasColumnName("InsuredState");

                                    b2.Property<string>("Street1")
                                        .IsRequired()
                                        .HasMaxLength(500)
                                        .HasColumnType("nvarchar(500)")
                                        .HasColumnName("InsuredStreet1");

                                    b2.Property<string>("Street2")
                                        .HasMaxLength(500)
                                        .HasColumnType("nvarchar(500)")
                                        .HasColumnName("InsuredStreet2");

                                    b2.HasKey("InsuredPartySubmissionId");

                                    b2.ToTable("Submissions");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionsHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("InsuredPartySubmissionId");
                                });

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.IndustryClassification", "Industry", b2 =>
                                {
                                    b2.Property<Guid>("InsuredPartySubmissionId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<string>("Description")
                                        .IsRequired()
                                        .HasMaxLength(500)
                                        .HasColumnType("nvarchar(500)")
                                        .HasColumnName("InsuredIndustryDescription");

                                    b2.Property<string>("NaicsCode")
                                        .IsRequired()
                                        .HasMaxLength(10)
                                        .HasColumnType("nvarchar(10)")
                                        .HasColumnName("InsuredNaicsCode");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.Property<string>("SicCode")
                                        .HasMaxLength(10)
                                        .HasColumnType("nvarchar(10)")
                                        .HasColumnName("InsuredSicCode");

                                    b2.HasKey("InsuredPartySubmissionId");

                                    b2.ToTable("Submissions");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionsHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("InsuredPartySubmissionId");
                                });

                            b1.Navigation("AnnualRevenue");

                            b1.Navigation("Industry");

                            b1.Navigation("MailingAddress");
                        });

                    b.OwnsMany("Vector.Domain.Submission.Entities.LossHistory", "LossHistory", b1 =>
                        {
                            b1.Property<Guid>("Id")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<string>("Carrier")
                                .HasMaxLength(200)
                                .HasColumnType("nvarchar(200)");

                            b1.Property<string>("ClaimNumber")
                                .HasMaxLength(100)
                                .HasColumnType("nvarchar(100)");

                            b1.Property<string>("CoverageType")
                                .HasMaxLength(50)
                                .HasColumnType("nvarchar(50)");

                            b1.Property<DateTime>("DateOfLoss")
                                .HasColumnType("datetime2");

                            b1.Property<string>("Description")
                                .IsRequired()
                                .HasMaxLength(4000)
                                .HasColumnType("nvarchar(4000)");

                            b1.Property<bool>("IsSubrogation")
                                .HasColumnType("bit");

                            b1.Property<DateTime>("PeriodEnd")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodEnd");

                            b1.Property<DateTime>("PeriodStart")
                                .ValueGeneratedOnAddOrUpdate()
                                .HasColumnType("datetime2")
                                .HasColumnName("PeriodStart");

                            b1.Property<string>("Status")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("nvarchar(50)");

                            b1.Property<Guid>("SubmissionId")
                                .HasColumnType("uniqueidentifier");

                            b1.HasKey("Id");

                            b1.HasIndex("SubmissionId");

                            b1.ToTable("SubmissionLossHistory", (string)null);

                            b1.ToTable(tb => tb.IsTemporal(ttb =>
                                    {
                                        ttb.UseHistoryTable("SubmissionLossHistoryHistory");
                                        ttb
                                            .HasPeriodStart("PeriodStart")
                                            .HasColumnName("PeriodStart");
                                        ttb
                                            .HasPeriodEnd("PeriodEnd")
                                            .HasColumnName("PeriodEnd");
                                    }));

                            b1.WithOwner()
                                .HasForeignKey("SubmissionId");

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Money", "IncurredAmount", b2 =>
                                {
                                    b2.Property<Guid>("LossHistoryId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 2)
                                        .HasColumnType("decimal(18,2)")
                                        .HasColumnName("IncurredAmount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("nvarchar(3)")
                                        .HasColumnName("IncurredCurrency");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.HasKey("LossHistoryId");

                                    b2.ToTable("SubmissionLossHistory");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionLossHistoryHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("LossHistoryId");
                                });

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Money", "PaidAmount", b2 =>
                                {
                                    b2.Property<Guid>("LossHistoryId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 2)
                                        .HasColumnType("decimal(18,2)")
                                        .HasColumnName("PaidAmount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("nvarchar(3)")
                                        .HasColumnName("PaidCurrency");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.HasKey("LossHistoryId");

                                    b2.ToTable("SubmissionLossHistory");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionLossHistoryHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("LossHistoryId");
                                });

                            b1.OwnsOne("Vector.Domain.Submission.ValueObjects.Money", "ReservedAmount", b2 =>
                                {
                                    b2.Property<Guid>("LossHistoryId")
                                        .HasColumnType("uniqueidentifier");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 2)
                                        .HasColumnType("decimal(18,2)")
                                        .HasColumnName("ReservedAmount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("nvarchar(3)")
                                        .HasColumnName("ReservedCurrency");

                                    b2.Property<DateTime>("PeriodEnd")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodEnd");

                                    b2.Property<DateTime>("PeriodStart")
                                        .ValueGeneratedOnAddOrUpdate()
                                        .HasColumnType("datetime2")
                                        .HasColumnName("PeriodStart");

                                    b2.HasKey("LossHistoryId");

                                    b2.ToTable("SubmissionLossHistory");

                                    b2.ToTable(tb => tb.IsTemporal(ttb =>
                                            {
                                                ttb.UseHistoryTable("SubmissionLossHistoryHistory");
                                                ttb
                                                    .HasPeriodStart("PeriodStart")
                                                    .HasColumnName("PeriodStart");
                                                ttb
                                                    .HasPeriodEnd("PeriodEnd")
                                                    .HasColumnName("PeriodEnd");
                                            }));

                                    b2.WithOwner()
                                        .HasForeignKey("LossHistoryId");
                                });

                            b1.Navigation("IncurredAmount");

                            b1.Navigation("PaidAmount");

                            b1.Navigation("ReservedAmount");
                        });

                    b.Navigation("ClearanceMatches");

                    b.Navigation("Coverages");

                    b.Navigation("Insured")
                        .IsRequired();

                    b.Navigation("Locations");

                    b.Navigation("LossHistory");

                    b.Navigation("QuotedPremium");
                });

            modelBuilder.Entity("Vector.Domain.UnderwritingGuidelines.Entities.UnderwritingRule", b =>
                {
                    b.HasOne("Vector.Domain.UnderwritingGuidelines.Aggregates.UnderwritingGuideline", null)
                        .WithMany("Rules")
                        .HasForeignKey("GuidelineId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.OwnsMany("Vector.Domain.UnderwritingGuidelines.ValueObjects.RuleCondition", "Conditions", b1 =>
                        {
                            b1.Property<Guid>("UnderwritingRuleId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<int>("__synthesizedOrdinal")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("int");

                            b1.Property<string>("Field")
                                .IsRequired()
                                .HasColumnType("nvarchar(max)");

                            b1.Property<string>("Operator")
                                .IsRequired()
                                .HasColumnType("nvarchar(max)");

                            b1.Property<string>("SecondaryValue")
                                .HasColumnType("nvarchar(max)");

                            b1.Property<string>("Value")
                                .IsRequired()
                                .HasColumnType("nvarchar(max)");

                            b1.HasKey("UnderwritingRuleId", "__synthesizedOrdinal");

                            b1.ToTable("UnderwritingRules");

                            b1.ToJson("Conditions");

                            b1.WithOwner()
                                .HasForeignKey("UnderwritingRuleId");
                        });

                    b.Navigation("Conditions");
                });

            modelBuilder.Entity("Vector.Domain.UnderwritingGuidelines.Aggregates.UnderwritingGuideline", b =>
                {
                    b.Navigation("Rules");
                });
#pragma warning restore 612, 618
        }
    }
}
